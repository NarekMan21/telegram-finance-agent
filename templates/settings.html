<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Настройки - Telegram Финансовый Агент</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .bottom-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }
        .nav-item {
            transition: all 0.2s ease;
        }
        .nav-item.active {
            color: #667eea;
        }
        .nav-item:not(.active):hover {
            color: #764ba2;
        }
        .setting-item {
            transition: all 0.2s ease;
        }
        .setting-item:hover {
            background: #f8fafc;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #667eea;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="gradient-bg text-white p-4 sticky top-0 z-40">
        <div class="flex items-center justify-between max-w-md mx-auto">
            <div class="flex items-center space-x-3">
                <button onclick="goBack()" class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div>
                    <h1 class="font-bold text-lg">Настройки</h1>
                    <p class="text-xs opacity-80">Конфигурация системы</p>
                </div>
            </div>
            <button class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center" onclick="testConnection()">
                <i class="fas fa-wifi"></i>
            </button>
        </div>
    </header>

    <!-- Loading State -->
    <div id="loadingState" class="max-w-md mx-auto p-4">
        <div class="bg-white rounded-xl shadow-sm p-8 text-center">
            <div class="loading-spinner mx-auto mb-4"></div>
            <div class="text-gray-600">Загрузка настроек...</div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-md mx-auto pb-20" id="mainContent" style="display: none;">
        <!-- Telegram API Settings -->
        <div class="p-4">
            <div class="bg-white rounded-xl shadow-sm mb-6">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-gray-800 flex items-center">
                        <i class="fab fa-telegram text-blue-500 mr-2"></i>
                        Telegram API
                    </h3>
                    <p class="text-xs text-gray-500 mt-1">Настройки подключения к Telegram</p>
                </div>
                
                <div class="p-4 space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">API ID</label>
                        <input type="text" id="apiId" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ваш API ID">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">API Hash</label>
                        <input type="password" id="apiHash" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="Ваш API Hash">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Номер телефона</label>
                        <input type="tel" id="phoneNumber" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="+79281234567">
                    </div>
                </div>
            </div>

            <!-- Group Settings -->
            <div class="bg-white rounded-xl shadow-sm mb-6">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-users text-purple-500 mr-2"></i>
                        Группы для мониторинга
                    </h3>
                    <p class="text-xs text-gray-500 mt-1">ID групп и их назначение</p>
                </div>
                
                <div class="p-4">
                    <div class="space-y-3" id="groupList">
                        <!-- Groups will be loaded here -->
                    </div>
                    
                    <div class="mt-3 p-3 bg-gray-50 rounded-lg">
                        <div class="text-sm text-gray-600 mb-2">Добавить новую группу</div>
                        <div class="flex space-x-2">
                            <input type="text" id="newGroupId" placeholder="ID группы" class="flex-1 p-2 border border-gray-300 rounded-lg text-sm">
                            <input type="text" id="newGroupName" placeholder="Название" class="flex-1 p-2 border border-gray-300 rounded-lg text-sm">
                            <button onclick="addGroup()" class="px-4 py-2 bg-purple-500 text-white rounded-lg text-sm">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- App Settings -->
            <div class="bg-white rounded-xl shadow-sm mb-6">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-cog text-orange-500 mr-2"></i>
                        Приложение
                    </h3>
                    <p class="text-xs text-gray-500 mt-1">Общие настройки</p>
                </div>
                
                <div class="divide-y divide-gray-100">
                    <div class="setting-item flex items-center justify-between p-4">
                        <div>
                            <div class="font-medium text-sm">Автообновление</div>
                            <div class="text-xs text-gray-500">Обновлять данные каждые 30 секунд</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoUpdate" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item flex items-center justify-between p-4">
                        <div>
                            <div class="font-medium text-sm">Уведомления</div>
                            <div class="text-xs text-gray-500">Показывать уведомления о новых операциях</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="notifications" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item flex items-center justify-between p-4">
                        <div>
                            <div class="font-medium text-sm">Темная тема</div>
                            <div class="text-xs text-gray-500">Использовать темную тему оформления</div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkTheme">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item flex items-center justify-between p-4">
                        <div>
                            <div class="font-medium text-sm">Валюта</div>
                            <div class="text-xs text-gray-500">Основная валюта для отображения</div>
                        </div>
                        <select id="currency" class="bg-gray-100 rounded-lg px-3 py-1 text-sm">
                            <option value="RUB">₽ RUB</option>
                            <option value="USD">$ USD</option>
                            <option value="EUR">€ EUR</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Data Management -->
            <div class="bg-white rounded-xl shadow-sm mb-6">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-database text-green-500 mr-2"></i>
                        Данные
                    </h3>
                    <p class="text-xs text-gray-500 mt-1">Управление данными</p>
                </div>
                
                <div class="divide-y divide-gray-100">
                    <button class="setting-item w-full flex items-center justify-between p-4 text-left" onclick="exportData()">
                        <div class="flex items-center">
                            <i class="fas fa-download text-blue-500 mr-3"></i>
                            <div>
                                <div class="font-medium text-sm">Экспорт данных</div>
                                <div class="text-xs text-gray-500">Сохранить все транзакции</div>
                            </div>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </button>
                    
                    <button class="setting-item w-full flex items-center justify-between p-4 text-left" onclick="importData()">
                        <div class="flex items-center">
                            <i class="fas fa-upload text-green-500 mr-3"></i>
                            <div>
                                <div class="font-medium text-sm">Импорт данных</div>
                                <div class="text-xs text-gray-500">Загрузить транзакции из файла</div>
                            </div>
                        </div>
                        <i class="fas fa-chevron-right text-gray-400"></i>
                    </button>
                    
                    <button class="setting-item w-full flex items-center justify-between p-4 text-left text-red-500" onclick="clearData()">
                        <div class="flex items-center">
                            <i class="fas fa-trash mr-3"></i>
                            <div>
                                <div class="font-medium text-sm">Очистить данные</div>
                                <div class="text-xs opacity-80">Удалить все транзакции</div>
                            </div>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                    
                    <!-- Add Update Data button -->
                    <button class="setting-item w-full flex items-center justify-between p-4 text-left text-blue-500" onclick="forceUpdate()">
                        <div class="flex items-center">
                            <i class="fas fa-sync-alt mr-3"></i>
                            <div>
                                <div class="font-medium text-sm">Обновить данные</div>
                                <div class="text-xs opacity-80">Загрузить новые транзакции</div>
                            </div>
                        </div>
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>

            <!-- System Info -->
            <div class="bg-white rounded-xl shadow-sm mb-6">
                <div class="p-4 border-b border-gray-100">
                    <h3 class="font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-info-circle text-blue-500 mr-2"></i>
                        Система
                    </h3>
                    <p class="text-xs text-gray-500 mt-1">Информация о приложении</p>
                </div>
                
                <div class="p-4 space-y-3">
                    <div class="flex justify-between">
                        <span class="text-sm text-gray-600">Версия</span>
                        <span class="text-sm font-medium">1.0.0</span>
                    </div>
                    
                    <div class="flex justify-between">
                        <span class="text-sm text-gray-600">Последнее обновление</span>
                        <span class="text-sm font-medium" id="lastUpdate">Только что</span>
                    </div>
                    
                    <div class="flex justify-between">
                        <span class="text-sm text-gray-600">Всего операций</span>
                        <span class="text-sm font-medium" id="totalOperations">0</span>
                    </div>
                    
                    <div class="flex justify-between">
                        <span class="text-sm text-gray-600">Статус подключения</span>
                        <span class="text-sm font-medium text-green-500" id="connectionStatus">Подключено</span>
                    </div>
                </div>
            </div>

            <!-- Save Button -->
            <button onclick="saveAllSettings()" class="w-full bg-gradient-to-r from-purple-500 to-blue-600 text-white py-4 rounded-xl font-medium mb-4">
                Сохранить все настройки
            </button>
        </div>
    </main>

    <script>
        // Global variables
        let settings = {};
        let groups = [];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            try {
                loadSettings();
                loadSystemInfo();
            } catch (error) {
                console.error('Error initializing app:', error);
                // Show main content even if there are errors
                document.getElementById('loadingState').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                showError('Ошибка инициализации приложения: ' + error.message);
            }
        });

        async function loadSettings() {
            try {
                const response = await fetch('/api/settings');
                const data = await response.json();
                
                if (data.success) {
                    settings = data.data;
                    updateSettingsUI();
                    
                    // Hide loading state, show main content
                    const loadingState = document.getElementById('loadingState');
                    const mainContent = document.getElementById('mainContent');
                    
                    if (loadingState) loadingState.style.display = 'none';
                    if (mainContent) mainContent.style.display = 'block';
                } else {
                    console.error('Error loading settings:', data.error);
                    showError('Ошибка загрузки настроек');
                }
            } catch (error) {
                console.error('Error loading settings:', error);
                showError('Ошибка подключения к серверу');
            }
        }

        function updateSettingsUI() {
            // Update form fields with safety checks
            const apiIdEl = document.getElementById('apiId');
            const apiHashEl = document.getElementById('apiHash');
            const phoneNumberEl = document.getElementById('phoneNumber');
            const currencyEl = document.getElementById('currency');
            const autoUpdateEl = document.getElementById('autoUpdate');
            const notificationsEl = document.getElementById('notifications');
            const darkThemeEl = document.getElementById('darkTheme');
            
            if (apiIdEl) apiIdEl.value = settings.api_id || '';
            if (apiHashEl) apiHashEl.value = settings.api_hash || '';
            if (phoneNumberEl) phoneNumberEl.value = settings.phone_number || '';
            if (currencyEl) currencyEl.value = settings.currency || 'RUB';
            
            // Update toggles
            if (autoUpdateEl) autoUpdateEl.checked = settings.auto_update !== false;
            if (notificationsEl) notificationsEl.checked = settings.notifications !== false;
            if (darkThemeEl) darkThemeEl.checked = settings.dark_theme === true;
            
            // Update groups
            groups = settings.group_ids || [];
            updateGroupsList();
        }

        function updateGroupsList() {
            const container = document.getElementById('groupList');
            if (!container) return;
            
            if (groups.length === 0) {
                container.innerHTML = `
                    <div class="p-4 text-center text-gray-500">
                        <i class="fas fa-users text-2xl mb-2 opacity-50"></i>
                        <div class="text-sm">Нет настроенных групп</div>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = groups.map((group, index) => {
                // Handle both old format (string) and new format (object)
                const groupId = typeof group === 'object' ? group.id : group;
                const groupName = typeof group === 'object' ? group.name : `Группа ${index + 1}`;
                
                return `
                <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                    <div>
                        <div class="font-medium text-sm">${groupId}</div>
                        <div class="text-xs text-gray-500">${groupName}</div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button class="text-blue-500" onclick="editGroup('${groupId}')">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="text-red-500" onclick="removeGroup(${index})">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>
            `}).join('');
        }

        // Добавляем недостающие функции для управления группами
        function addGroup() {
            const groupId = document.getElementById('newGroupId').value.trim();
            const groupName = document.getElementById('newGroupName').value.trim();
            
            if (!groupId) {
                showNotification('Введите ID группы', 'error');
                return;
            }
            
            // Проверяем, не существует ли уже группа с таким ID
            const existingGroup = groups.find(g => {
                const id = typeof g === 'object' ? g.id : g;
                return id === groupId;
            });
            
            if (existingGroup) {
                showNotification('Группа с таким ID уже существует', 'error');
                return;
            }
            
            groups.push({
                id: groupId,
                name: groupName || `Группа ${groupId}`
            });
            
            updateGroupsList();
            
            // Очищаем поля ввода
            document.getElementById('newGroupId').value = '';
            document.getElementById('newGroupName').value = '';
            
            showNotification('Группа добавлена', 'success');
        }

        function editGroup(groupId) {
            const groupIndex = groups.findIndex(g => {
                // Handle both old format (string) and new format (object)
                const id = typeof g === 'object' ? g.id : g;
                return id === groupId;
            });
            
            if (groupIndex === -1) return;
            
            // Получаем текущее имя группы
            const currentGroupName = typeof groups[groupIndex] === 'object' ? groups[groupIndex].name : `Группа ${groupIndex + 1}`;
            const newName = prompt('Введите новое название группы:', currentGroupName);
            
            if (newName && newName.trim()) {
                if (typeof groups[groupIndex] === 'string') {
                    // Преобразуем старый формат в новый
                    groups[groupIndex] = { id: groupId, name: newName.trim() };
                } else {
                    // Обновляем имя в новом формате
                    groups[groupIndex].name = newName.trim();
                }
                updateGroupsList();
                showNotification('Группа обновлена', 'success');
            }
        }

        function removeGroup(index) {
            if (confirm('Вы уверены, что хотите удалить эту группу?')) {
                groups.splice(index, 1);
                updateGroupsList();
                showNotification('Группа удалена', 'success');
            }
        }

        async function loadSystemInfo() {
            try {
                const response = await fetch('/api/status');
                const data = await response.json();
                
                if (data.success) {
                    updateSystemInfo(data.data);
                }
            } catch (error) {
                console.error('Error loading system info:', error);
            }
        }

        function updateSystemInfo(info) {
            const lastUpdateEl = document.getElementById('lastUpdate');
            const totalOperationsEl = document.getElementById('totalOperations');
            const connectionStatusEl = document.getElementById('connectionStatus');
            
            if (lastUpdateEl && info.last_update) {
                const updateTime = new Date(info.last_update);
                lastUpdateEl.textContent = updateTime.toLocaleTimeString('ru-RU');
            }
            
            if (totalOperationsEl) {
                totalOperationsEl.textContent = info.transaction_count || 0;
            }
            
            if (connectionStatusEl) {
                if (info.transaction_count > 0) {
                    connectionStatusEl.textContent = 'Активно';
                    connectionStatusEl.className = 'text-sm font-medium text-green-500';
                } else {
                    connectionStatusEl.textContent = 'Нет данных';
                    connectionStatusEl.className = 'text-sm font-medium text-gray-500';
                }
            }
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg text-white ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 
                type === 'warning' ? 'bg-yellow-500' :
                'bg-blue-500'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Функция для сохранения всех настроек
        async function saveAllSettings() {
            try {
                const settingsData = {
                    api_id: document.getElementById('apiId').value,
                    api_hash: document.getElementById('apiHash').value,
                    phone_number: document.getElementById('phoneNumber').value,
                    currency: document.getElementById('currency').value,
                    auto_update: document.getElementById('autoUpdate').checked,
                    notifications: document.getElementById('notifications').checked,
                    dark_theme: document.getElementById('darkTheme').checked,
                    group_ids: groups
                };

                const response = await fetch('/api/settings', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(settingsData)
                });

                const result = await response.json();
                
                if (result.success) {
                    showNotification('Настройки успешно сохранены', 'success');
                } else {
                    showNotification('Ошибка сохранения настроек: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error saving settings:', error);
                showNotification('Ошибка подключения к серверу', 'error');
            }
        }

        // Event handlers
        function switchTab(tab) {
            const pages = {
                'dashboard': 'index.html',
                'transactions': 'transactions.html',
                'analytics': 'analytics.html',
                'settings': 'settings.html'
            };
            
            if (pages[tab]) {
                window.location.href = pages[tab];
            }
        }

        function goBack() {
            window.history.back();
        }

        // Функции управления данными
        async function exportData() {
            try {
                const response = await fetch('/api/export');
                const data = await response.json();
                
                if (data.success) {
                    // Создаем файл для скачивания
                    const blob = new Blob([JSON.stringify(data.data, null, 2)], {type: 'application/json'});
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'financial_data_export.json';
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                    document.body.removeChild(a);
                    
                    showNotification('Данные экспортированы успешно', 'success');
                } else {
                    showNotification('Ошибка экспорта данных: ' + data.error, 'error');
                }
            } catch (error) {
                console.error('Error exporting data:', error);
                showNotification('Ошибка подключения к серверу', 'error');
            }
        }

        async function importData() {
            try {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                
                input.onchange = async (event) => {
                    const file = event.target.files[0];
                    if (!file) return;
                    
                    const reader = new FileReader();
                    reader.onload = async (e) => {
                        try {
                            const jsonData = JSON.parse(e.target.result);
                            
                            const response = await fetch('/api/import', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify(jsonData)
                            });
                            
                            const result = await response.json();
                            
                            if (result.success) {
                                showNotification('Данные импортированы успешно', 'success');
                                // Перезагружаем страницу для отображения новых данных
                                setTimeout(() => {
                                    location.reload();
                                }, 1000);
                            } else {
                                showNotification('Ошибка импорта данных: ' + result.error, 'error');
                            }
                        } catch (parseError) {
                            console.error('Error parsing JSON:', parseError);
                            showNotification('Неверный формат файла', 'error');
                        }
                    };
                    
                    reader.readAsText(file);
                };
                
                input.click();
            } catch (error) {
                console.error('Error importing data:', error);
                showNotification('Ошибка импорта данных', 'error');
            }
        }

        async function clearData() {
            if (confirm('Вы уверены, что хотите удалить все данные? Это действие нельзя отменить.')) {
                try {
                    const response = await fetch('/api/clear-data', {
                        method: 'POST'
                    });
                    
                    const result = await response.json();
                    
                    if (result.success) {
                        showNotification('Все данные удалены', 'success');
                        // Обновляем информацию о системе
                        loadSystemInfo();
                    } else {
                        showNotification('Ошибка очистки данных: ' + result.error, 'error');
                    }
                } catch (error) {
                    console.error('Error clearing data:', error);
                    showNotification('Ошибка подключения к серверу', 'error');
                }
            }
        }

        // Функция для принудительного обновления данных
        async function forceUpdate() {
            try {
                showNotification('Начинаем обновление данных...', 'info');
                
                const response = await fetch('/api/update', {
                    method: 'POST'
                });
                
                const result = await response.json();
                
                if (result.success) {
                    showNotification('Данные успешно обновлены', 'success');
                    // Обновляем информацию о системе
                    loadSystemInfo();
                } else {
                    showNotification('Ошибка обновления данных: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Error updating data:', error);
                showNotification('Ошибка подключения к серверу', 'error');
            }
        }

        // Функция для тестирования соединения
        async function testConnection() {
            try {
                showNotification('Проверка соединения...', 'info');
                
                const response = await fetch('/api/test-connection');
                const result = await response.json();
                
                if (result.success) {
                    showNotification('Соединение успешно', 'success');
                } else {
                    showNotification('Ошибка соединения: ' + result.error, 'error');
                }
            } catch (error) {
                console.error('Connection test error:', error);
                showNotification('Ошибка подключения к серверу', 'error');
            }
        }

        // Функция для отображения ошибок
        function showError(message) {
            showNotification(message, 'error');
        }
    </script>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bottom-nav z-50">
        <div class="max-w-md mx-auto px-4">
            <div class="flex justify-around py-2">
                <button class="nav-item flex flex-col items-center py-2 px-3" onclick="switchTab('dashboard')">
                    <i class="fas fa-home text-lg mb-1"></i>
                    <span class="text-xs">Главная</span>
                </button>
                <button class="nav-item flex flex-col items-center py-2 px-3" onclick="switchTab('transactions')">
                    <i class="fas fa-exchange-alt text-lg mb-1"></i>
                    <span class="text-xs">Операции</span>
                </button>
                <button class="nav-item flex flex-col items-center py-2 px-3" onclick="switchTab('analytics')">
                    <i class="fas fa-chart-bar text-lg mb-1"></i>
                    <span class="text-xs">Аналитика</span>
                </button>
                <button class="nav-item active flex flex-col items-center py-2 px-3" onclick="switchTab('settings')">
                    <i class="fas fa-cog text-lg mb-1"></i>
                    <span class="text-xs">Настройки</span>
                </button>
            </div>
        </div>
    </nav>
</body>
</html>